<svg width="800" height="420" xmlns="http://www.w3.org/2000/svg">
  <!-- 背景 -->
  <rect width="800" height="420" fill="#ffffff"/>
  
  <!-- 标题 -->
  <text x="400" y="30" font-family="Arial" font-size="20" font-weight="bold" text-anchor="middle" fill="#2060a0">Grover 搜索算法量子电路</text>
  <text x="400" y="55" font-family="Arial" font-size="14" text-anchor="middle" fill="#666666">3比特系统示例（搜索目标态: |101⟩）</text>
  
  <!-- 量子线路网格 -->
  <rect x="60" y="80" width="680" height="290" fill="#f9f9f9" stroke="#dddddd" stroke-width="1"/>
  
  <!-- 线路标签 -->
  <text x="40" y="120" font-family="Arial" font-size="14" text-anchor="end" fill="#333333">q₀:</text>
  <text x="40" y="180" font-family="Arial" font-size="14" text-anchor="end" fill="#333333">q₁:</text>
  <text x="40" y="240" font-family="Arial" font-size="14" text-anchor="end" fill="#333333">q₂:</text>
  <text x="40" y="320" font-family="Arial" font-size="14" text-anchor="end" fill="#333333">c:</text>
  
  <!-- 量子比特线 -->
  <line x1="60" y1="120" x2="740" y2="120" stroke="#333333" stroke-width="1.5"/>
  <line x1="60" y1="180" x2="740" y2="180" stroke="#333333" stroke-width="1.5"/>
  <line x1="60" y1="240" x2="740" y2="240" stroke="#333333" stroke-width="1.5"/>
  
  <!-- 经典比特寄存器 (3个) -->
  <line x1="60" y1="310" x2="740" y2="310" stroke="#333333" stroke-width="1" stroke-dasharray="5,3"/>
  <line x1="60" y1="320" x2="740" y2="320" stroke="#333333" stroke-width="1" stroke-dasharray="5,3"/>
  <line x1="60" y1="330" x2="740" y2="330" stroke="#333333" stroke-width="1" stroke-dasharray="5,3"/>
  
  <!-- 初始态 -->
  <text x="80" y="115" font-family="Arial" font-size="12" fill="#333333">|0⟩</text>
  <text x="80" y="175" font-family="Arial" font-size="12" fill="#333333">|0⟩</text>
  <text x="80" y="235" font-family="Arial" font-size="12" fill="#333333">|0⟩</text>
  
  <!-- 阶段1: Hadamard 初始化 -->
  <rect x="110" y="90" width="80" height="260" fill="#f0f7ff" fill-opacity="0.4" stroke="none"/>
  <text x="150" y="100" font-family="Arial" font-size="12" text-anchor="middle" fill="#2060a0">初始化</text>
  
  <!-- Hadamard 门 -->
  <rect x="125" y="100" width="40" height="40" fill="#ffffff" stroke="#2060a0" stroke-width="1.5"/>
  <text x="145" y="125" font-family="Arial" font-size="16" text-anchor="middle" fill="#2060a0">H</text>
  
  <rect x="125" y="160" width="40" height="40" fill="#ffffff" stroke="#2060a0" stroke-width="1.5"/>
  <text x="145" y="185" font-family="Arial" font-size="16" text-anchor="middle" fill="#2060a0">H</text>
  
  <rect x="125" y="220" width="40" height="40" fill="#ffffff" stroke="#2060a0" stroke-width="1.5"/>
  <text x="145" y="245" font-family="Arial" font-size="16" text-anchor="middle" fill="#2060a0">H</text>
  
  <!-- 阶段2: Oracle (标记101态) -->
  <rect x="220" y="90" width="120" height="260" fill="#fff0f0" fill-opacity="0.4" stroke="none"/>
  <text x="280" y="100" font-family="Arial" font-size="12" text-anchor="middle" fill="#d73a49">Oracle</text>
  
  <!-- X门，用于标记目标态 -->
  <rect x="230" y="100" width="40" height="40" fill="#ffffff" stroke="#d73a49" stroke-width="1.5"/>
  <text x="250" y="125" font-family="Arial" font-size="16" text-anchor="middle" fill="#d73a49">X</text>
  
  <!-- 不需要X门的q₁保持不变 -->
  
  <rect x="230" y="220" width="40" height="40" fill="#ffffff" stroke="#d73a49" stroke-width="1.5"/>
  <text x="250" y="245" font-family="Arial" font-size="16" text-anchor="middle" fill="#d73a49">X</text>
  
  <!-- 多控制Z门 -->
  <circle cx="250" cy="180" r="5" fill="#d73a49" stroke="none"/>
  <circle cx="250" cy="120" r="5" fill="#d73a49" stroke="none"/>
  <line x1="250" y1="125" x2="250" y2="175" stroke="#d73a49" stroke-width="1.5"/>
  
  <rect x="290" y="220" width="40" height="40" fill="#ffffff" stroke="#d73a49" stroke-width="1.5"/>
  <text x="310" y="245" font-family="Arial" font-size="16" text-anchor="middle" fill="#d73a49">Z</text>
  
  <line x1="250" y1="180" x2="310" y2="180" stroke="#d73a49" stroke-width="1.5"/>
  <line x1="310" y1="180" x2="310" y2="220" stroke="#d73a49" stroke-width="1.5"/>
  
  <!-- X门（取消先前的翻转） -->
  <rect x="350" y="100" width="40" height="40" fill="#ffffff" stroke="#d73a49" stroke-width="1.5"/>
  <text x="370" y="125" font-family="Arial" font-size="16" text-anchor="middle" fill="#d73a49">X</text>
  
  <!-- 不需要X门的q₁保持不变 -->
  
  <rect x="350" y="220" width="40" height="40" fill="#ffffff" stroke="#d73a49" stroke-width="1.5"/>
  <text x="370" y="245" font-family="Arial" font-size="16" text-anchor="middle" fill="#d73a49">X</text>
  
  <!-- 阶段3: 扩散算子 (Diffusion) -->
  <rect x="370" y="90" width="250" height="260" fill="#f0fff0" fill-opacity="0.4" stroke="none"/>
  <text x="495" y="100" font-family="Arial" font-size="12" text-anchor="middle" fill="#28a745">扩散算子</text>
  
  <!-- 各比特Hadamard门 -->
  <rect x="400" y="100" width="40" height="40" fill="#ffffff" stroke="#28a745" stroke-width="1.5"/>
  <text x="420" y="125" font-family="Arial" font-size="16" text-anchor="middle" fill="#28a745">H</text>
  
  <rect x="400" y="160" width="40" height="40" fill="#ffffff" stroke="#28a745" stroke-width="1.5"/>
  <text x="420" y="185" font-family="Arial" font-size="16" text-anchor="middle" fill="#28a745">H</text>
  
  <rect x="400" y="220" width="40" height="40" fill="#ffffff" stroke="#28a745" stroke-width="1.5"/>
  <text x="420" y="245" font-family="Arial" font-size="16" text-anchor="middle" fill="#28a745">H</text>
  
  <!-- X门 -->
  <rect x="450" y="100" width="40" height="40" fill="#ffffff" stroke="#28a745" stroke-width="1.5"/>
  <text x="470" y="125" font-family="Arial" font-size="16" text-anchor="middle" fill="#28a745">X</text>
  
  <rect x="450" y="160" width="40" height="40" fill="#ffffff" stroke="#28a745" stroke-width="1.5"/>
  <text x="470" y="185" font-family="Arial" font-size="16" text-anchor="middle" fill="#28a745">X</text>
  
  <rect x="450" y="220" width="40" height="40" fill="#ffffff" stroke="#28a745" stroke-width="1.5"/>
  <text x="470" y="245" font-family="Arial" font-size="16" text-anchor="middle" fill="#28a745">X</text>
  
  <!-- 多控制Z门 -->
  <line x1="500" y1="120" x2="550" y2="120" stroke="#28a745" stroke-width="1.5"/>
  <line x1="500" y1="180" x2="550" y2="180" stroke="#28a745" stroke-width="1.5"/>
  <line x1="550" y1="120" x2="550" y2="220" stroke="#28a745" stroke-width="1.5"/>
  
  <circle cx="500" cy="120" r="5" fill="#28a745" stroke="none"/>
  <circle cx="500" cy="180" r="5" fill="#28a745" stroke="none"/>
  
  <rect x="530" y="220" width="40" height="40" fill="#ffffff" stroke="#28a745" stroke-width="1.5"/>
  <text x="550" y="245" font-family="Arial" font-size="16" text-anchor="middle" fill="#28a745">Z</text>
  
  <!-- X门（反向） -->
  <rect x="580" y="100" width="40" height="40" fill="#ffffff" stroke="#28a745" stroke-width="1.5"/>
  <text x="600" y="125" font-family="Arial" font-size="16" text-anchor="middle" fill="#28a745">X</text>
  
  <rect x="580" y="160" width="40" height="40" fill="#ffffff" stroke="#28a745" stroke-width="1.5"/>
  <text x="600" y="185" font-family="Arial" font-size="16" text-anchor="middle" fill="#28a745">X</text>
  
  <rect x="580" y="220" width="40" height="40" fill="#ffffff" stroke="#28a745" stroke-width="1.5"/>
  <text x="600" y="245" font-family="Arial" font-size="16" text-anchor="middle" fill="#28a745">X</text>
  
  <!-- 各比特Hadamard门（反向） -->
  <rect x="630" y="100" width="40" height="40" fill="#ffffff" stroke="#28a745" stroke-width="1.5"/>
  <text x="650" y="125" font-family="Arial" font-size="16" text-anchor="middle" fill="#28a745">H</text>
  
  <rect x="630" y="160" width="40" height="40" fill="#ffffff" stroke="#28a745" stroke-width="1.5"/>
  <text x="650" y="185" font-family="Arial" font-size="16" text-anchor="middle" fill="#28a745">H</text>
  
  <rect x="630" y="220" width="40" height="40" fill="#ffffff" stroke="#28a745" stroke-width="1.5"/>
  <text x="650" y="245" font-family="Arial" font-size="16" text-anchor="middle" fill="#28a745">H</text>
  
  <!-- 阶段4: 测量 -->
  <rect x="680" y="90" width="60" height="260" fill="#f0f0ff" fill-opacity="0.4" stroke="none"/>
  <text x="710" y="100" font-family="Arial" font-size="12" text-anchor="middle" fill="#6f42c1">测量</text>
  
  <!-- 测量图标 -->
  <path d="M 690,100 L 710,100 L 710,120 L 700,130 L 690,120 Z" stroke="#6f42c1" stroke-width="1.5" fill="#ffffff"/>
  <text x="700" y="120" font-family="Arial" font-size="12" text-anchor="middle" fill="#6f42c1">M</text>
  
  <path d="M 690,160 L 710,160 L 710,180 L 700,190 L 690,180 Z" stroke="#6f42c1" stroke-width="1.5" fill="#ffffff"/>
  <text x="700" y="180" font-family="Arial" font-size="12" text-anchor="middle" fill="#6f42c1">M</text>
  
  <path d="M 690,220 L 710,220 L 710,240 L 700,250 L 690,240 Z" stroke="#6f42c1" stroke-width="1.5" fill="#ffffff"/>
  <text x="700" y="240" font-family="Arial" font-size="12" text-anchor="middle" fill="#6f42c1">M</text>
  
  <!-- 测量结果连接到经典寄存器 -->
  <line x1="700" y1="130" x2="700" y2="310" stroke="#6f42c1" stroke-width="1" stroke-dasharray="4,2"/>
  <line x1="700" y1="190" x2="700" y2="320" stroke="#6f42c1" stroke-width="1" stroke-dasharray="4,2"/>
  <line x1="700" y1="250" x2="700" y2="330" stroke="#6f42c1" stroke-width="1" stroke-dasharray="4,2"/>
  
  <!-- 迭代说明 -->
  <path d="M 220,370 Q 200,370 200,350 L 200,270 Q 200,250 220,250 L 620,250 Q 640,250 640,270 L 640,350 Q 640,370 620,370" fill="none" stroke="#666666" stroke-width="1" stroke-dasharray="5,3"/>
  <text x="420" y="390" font-family="Arial" font-size="14" text-anchor="middle" fill="#666666">Oracle和扩散算子重复迭代直到找到目标态 (约π√N/4次)</text>
  
  <!-- 图例 -->
  <rect x="60" y="400" width="15" height="15" fill="#f0f7ff" fill-opacity="0.4"/>
  <text x="85" y="412" font-family="Arial" font-size="12" fill="#2060a0">初始化</text>
  
  <rect x="160" y="400" width="15" height="15" fill="#fff0f0" fill-opacity="0.4"/>
  <text x="185" y="412" font-family="Arial" font-size="12" fill="#d73a49">Oracle</text>
  
  <rect x="260" y="400" width="15" height="15" fill="#f0fff0" fill-opacity="0.4"/>
  <text x="285" y="412" font-family="Arial" font-size="12" fill="#28a745">扩散算子</text>
  
  <rect x="360" y="400" width="15" height="15" fill="#f0f0ff" fill-opacity="0.4"/>
  <text x="385" y="412" font-family="Arial" font-size="12" fill="#6f42c1">测量</text>
</svg>